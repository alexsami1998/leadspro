import{a as z,b as R,c as N,d as q,e as j,f as U,g as B,l as Y,m as Z}from"./chunk-FI2VPKBI.js";import{a as G}from"./chunk-IKNT5GKH.js";import{e as S,g as F}from"./chunk-STUYBPRI.js";import{$a as x,Eb as V,Fb as I,Ja as h,Kb as L,Ma as b,Na as E,Oa as P,Pa as i,Qa as r,Ra as C,Sa as u,Ta as m,Ua as c,Y as D,Ya as s,Za as M,_a as f,a as w,ab as v,b as O,bb as k,db as T,ea as p,eb as A,fa as g,xa as d,ya as y}from"./chunk-W5YSIOEO.js";var H=()=>[];function K(l,o){l&1&&(i(0,"div",5),C(1,"div",6),i(2,"p"),s(3,"Carregando webhooks..."),r()())}function Q(l,o){if(l&1){let e=u();i(0,"button",19),m("click",function(){p(e);let t=c(2);return g(t.openCreateModal())}),s(1," \u2795 Novo Webhook "),r()}}function X(l,o){if(l&1){let e=u();i(0,"button",41),m("click",function(){p(e);let t=c().$implicit,a=c(3);return g(a.openEditModal(t))}),s(1," \u270F\uFE0F "),r()}}function ee(l,o){if(l&1){let e=u();i(0,"button",42),m("click",function(){p(e);let t=c().$implicit,a=c(3);return g(a.deleteWebhook(t))}),s(1," \u{1F5D1}\uFE0F "),r()}}function te(l,o){if(l&1&&(i(0,"span",43),s(1),r()),l&2){let e=o.$implicit,n=c(4);E("background-color",n.getEventColor(e)),d(),f(" ",n.getEventLabel(e)," ")}}function oe(l,o){l&1&&(i(0,"span",44),s(1," Nenhum evento configurado "),r())}function ne(l,o){if(l&1){let e=u();i(0,"div",22)(1,"div",23)(2,"div",24),s(3," \u{1F517} "),r(),i(4,"div",25)(5,"h3"),s(6),r(),i(7,"p",26),s(8),r(),i(9,"div",27)(10,"span",28),s(11),r()()(),i(12,"div",29)(13,"button",30),m("click",function(){let t=p(e).$implicit,a=c(3);return g(a.openConfigModal(t))}),s(14," \u2699\uFE0F "),r(),h(15,X,2,0,"button",31)(16,ee,2,0,"button",32),r()(),i(17,"div",33)(18,"h4"),s(19,"Eventos Ativos:"),r(),i(20,"div",34),h(21,te,2,3,"span",35)(22,oe,2,0,"span",36),r()(),i(23,"div",37)(24,"div",38)(25,"button",39),m("click",function(){let t=p(e).$implicit,a=c(3);return g(a.testWebhook(t))}),s(26," \u{1F9EA} Testar Webhook "),r(),i(27,"span",40),s(28),r()()()()}if(l&2){let e=o.$implicit,n=c(3);d(6),M(e.nome),d(2),M(e.url),d(2),P("active",e.ativo)("inactive",!e.ativo),d(),f(" ",e.ativo?"Ativo":"Inativo"," "),d(4),b("ngIf",n.canManageWebhooks()),d(),b("ngIf",n.canDeleteWebhooks()),d(5),b("ngForOf",e.eventos),d(),b("ngIf",e.eventos.length===0),d(6),f(" Criado em: ",n.formatDate(e.dataCriacao)," ")}}function ie(l,o){if(l&1&&(i(0,"div",20),h(1,ne,29,12,"div",21),r()),l&2){let e=c(2);d(),b("ngForOf",e.filteredWebhooks)}}function re(l,o){if(l&1){let e=u();i(0,"div",45)(1,"div",46),s(2,"\u{1F517}"),r(),i(3,"h3"),s(4,"Nenhum webhook encontrado"),r(),i(5,"p"),s(6,"N\xE3o h\xE1 webhooks que correspondam aos filtros aplicados."),r(),i(7,"button",19),m("click",function(){p(e);let t=c(2);return g(t.clearFilters())}),s(8," Limpar Filtros "),r()()}}function ae(l,o){if(l&1){let e=u();i(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"input",11),k("ngModelChange",function(t){p(e);let a=c();return v(a.searchTerm,t)||(a.searchTerm=t),g(t)}),m("input",function(){p(e);let t=c();return g(t.filterWebhooks())}),r()(),i(5,"div",12)(6,"button",13),m("click",function(){p(e);let t=c();return g(t.clearFilters())}),s(7," \u{1F504} Limpar Filtros "),r()()(),i(8,"div",14),h(9,Q,2,0,"button",15),r()(),i(10,"div",16)(11,"span"),s(12),r()(),h(13,ie,2,1,"div",17)(14,re,9,0,"div",18),r()}if(l&2){let e=c();d(4),x("ngModel",e.searchTerm),d(5),b("ngIf",e.canManageWebhooks()),d(3),f("",e.filteredWebhooks.length," webhook(s) encontrado(s)"),d(),b("ngIf",e.filteredWebhooks.length>0),d(),b("ngIf",e.filteredWebhooks.length===0&&!e.loading)}}function se(l,o){if(l&1){let e=u();i(0,"div",47),m("click",function(){p(e);let t=c();return g(t.closeModals())}),i(1,"div",48),m("click",function(t){return p(e),g(t.stopPropagation())}),i(2,"div",49)(3,"h2"),s(4,"Novo Webhook"),r(),i(5,"button",50),m("click",function(){p(e);let t=c();return g(t.closeModals())}),s(6,"\u2715"),r()(),i(7,"div",51)(8,"form",52),m("ngSubmit",function(){p(e);let t=c();return g(t.createWebhook())}),i(9,"div",53)(10,"label",54),s(11,"Nome *"),r(),i(12,"input",55),k("ngModelChange",function(t){p(e);let a=c();return v(a.newWebhook.nome,t)||(a.newWebhook.nome=t),g(t)}),r()(),i(13,"div",53)(14,"label",56),s(15,"URL *"),r(),i(16,"input",57),k("ngModelChange",function(t){p(e);let a=c();return v(a.newWebhook.url,t)||(a.newWebhook.url=t),g(t)}),r()(),i(17,"div",53)(18,"label",58)(19,"input",59),k("ngModelChange",function(t){p(e);let a=c();return v(a.newWebhook.ativo,t)||(a.newWebhook.ativo=t),g(t)}),r(),C(20,"span",60),s(21," Webhook ativo "),r()(),i(22,"div",61)(23,"button",62),m("click",function(){p(e);let t=c();return g(t.closeModals())}),s(24,"Cancelar"),r(),i(25,"button",63),s(26,"Criar Webhook"),r()()()()()()}if(l&2){let e=c();d(12),x("ngModel",e.newWebhook.nome),d(4),x("ngModel",e.newWebhook.url),d(3),x("ngModel",e.newWebhook.ativo)}}function le(l,o){if(l&1){let e=u();i(0,"div",47),m("click",function(){p(e);let t=c();return g(t.closeModals())}),i(1,"div",48),m("click",function(t){return p(e),g(t.stopPropagation())}),i(2,"div",49)(3,"h2"),s(4,"Editar Webhook"),r(),i(5,"button",50),m("click",function(){p(e);let t=c();return g(t.closeModals())}),s(6,"\u2715"),r()(),i(7,"div",51)(8,"form",52),m("ngSubmit",function(){p(e);let t=c();return g(t.updateWebhook())}),i(9,"div",53)(10,"label",64),s(11,"Nome *"),r(),i(12,"input",65),k("ngModelChange",function(t){p(e);let a=c();return v(a.editWebhook.nome,t)||(a.editWebhook.nome=t),g(t)}),r()(),i(13,"div",53)(14,"label",66),s(15,"URL *"),r(),i(16,"input",67),k("ngModelChange",function(t){p(e);let a=c();return v(a.editWebhook.url,t)||(a.editWebhook.url=t),g(t)}),r()(),i(17,"div",53)(18,"label",58)(19,"input",59),k("ngModelChange",function(t){p(e);let a=c();return v(a.editWebhook.ativo,t)||(a.editWebhook.ativo=t),g(t)}),r(),C(20,"span",60),s(21," Webhook ativo "),r()(),i(22,"div",61)(23,"button",62),m("click",function(){p(e);let t=c();return g(t.closeModals())}),s(24,"Cancelar"),r(),i(25,"button",63),s(26,"Atualizar Webhook"),r()()()()()()}if(l&2){let e=c();d(12),x("ngModel",e.editWebhook.nome),d(4),x("ngModel",e.editWebhook.url),d(3),x("ngModel",e.editWebhook.ativo)}}function ce(l,o){if(l&1){let e=u();i(0,"div",75)(1,"div",76),C(2,"span",77),i(3,"span",78),s(4),r(),i(5,"label",79)(6,"input",80),m("change",function(){let t=p(e).$implicit,a=c(2);return g(a.toggleEvent(a.configWebhook,t))}),r(),C(7,"span",81),r()(),i(8,"p",82),s(9),r()()}if(l&2){let e=o.$implicit,n=c(2);P("active",n.configWebhook==null||n.configWebhook.eventos==null?null:n.configWebhook.eventos.includes(e)),d(2),E("background-color",n.getEventColor(e)),d(2),M(n.getEventLabel(e)),d(2),b("checked",n.configWebhook==null||n.configWebhook.eventos==null?null:n.configWebhook.eventos.includes(e)),d(3),f(" ",n.getEventDescription(e)," ")}}function de(l,o){l&1&&(i(0,"span",93),s(1,"*"),r())}function pe(l,o){if(l&1){let e=u();i(0,"div",88)(1,"label",89)(2,"input",90),m("change",function(){let t=p(e).$implicit,a=c().$implicit,_=c(3);return g(_.toggleDataField(_.configWebhook,a,t.campo))}),r(),C(3,"span",60),i(4,"span",91),s(5),r(),h(6,de,2,0,"span",92),r()()}if(l&2){let e=o.$implicit,n=c().$implicit,t=c(3);P("obrigatorio",e.obrigatorio),d(2),b("checked",e.obrigatorio||t.isDataFieldActive(t.configWebhook,n,e.campo))("disabled",e.obrigatorio),d(3),M(e.label),d(),b("ngIf",e.obrigatorio)}}function ge(l,o){if(l&1&&(i(0,"div",84)(1,"div",85)(2,"h4"),s(3),r(),i(4,"span",43),s(5),r()(),i(6,"div",86),h(7,pe,7,6,"div",87),r()()),l&2){let e=o.$implicit,n=c(3);d(3),M(n.getEventLabel(e)),d(),E("background-color",n.getEventColor(e)),d(),f(" ",e," "),d(2),b("ngForOf",n.availableDataFields)}}function me(l,o){if(l&1&&(i(0,"div",69)(1,"h3"),s(2,"\u{1F4CA} Dados Enviados por Evento"),r(),i(3,"p",70),s(4," Configure quais dados ser\xE3o enviados para cada evento ativo: "),r(),h(5,ge,8,5,"div",83),r()),l&2){let e=c(2);d(5),b("ngForOf",(e.configWebhook==null?null:e.configWebhook.eventos)||A(1,H))}}function be(l,o){if(l&1){let e=u();i(0,"div",47),m("click",function(){p(e);let t=c();return g(t.closeModals())}),i(1,"div",68),m("click",function(t){return p(e),g(t.stopPropagation())}),i(2,"div",49)(3,"h2"),s(4),r(),i(5,"button",50),m("click",function(){p(e);let t=c();return g(t.closeModals())}),s(6,"\u2715"),r()(),i(7,"div",51)(8,"div",69)(9,"h3"),s(10,"\u{1F4E1} Eventos Dispon\xEDveis"),r(),i(11,"p",70),s(12," Selecione quais eventos devem disparar este webhook: "),r(),i(13,"div",71),h(14,ce,10,7,"div",72),r()(),h(15,me,6,2,"div",73),i(16,"div",61)(17,"button",74),m("click",function(){p(e);let t=c();return g(t.closeModals())}),s(18,"Fechar"),r()()()()()}if(l&2){let e=c();d(4),f("Configurar Eventos - ",e.configWebhook==null?null:e.configWebhook.nome,""),d(10),b("ngForOf",e.Object.values(e.WebhookEvent)),d(),b("ngIf",e.configWebhook==null||e.configWebhook.eventos==null?null:e.configWebhook.eventos.length)}}var $=class l{constructor(o,e){this.authService=o;this.databaseService=e}webhooks=[];filteredWebhooks=[];selectedWebhook=null;showCreateModal=!1;showEditModal=!1;showConfigModal=!1;loading=!0;searchTerm="";newWebhook={};editWebhook={};configWebhook=null;WebhookEvent=S;Object=Object;availableDataFields=[{campo:"id",label:"ID do Lead",ativo:!0,obrigatorio:!0},{campo:"nome",label:"Nome do Lead",ativo:!0,obrigatorio:!0},{campo:"email",label:"Email do Lead",ativo:!0,obrigatorio:!1},{campo:"telefone",label:"Telefone do Lead",ativo:!0,obrigatorio:!1},{campo:"empresa",label:"Empresa do Lead",ativo:!0,obrigatorio:!1},{campo:"cargo",label:"Cargo do Lead",ativo:!0,obrigatorio:!1},{campo:"fonte",label:"Fonte do Lead",ativo:!0,obrigatorio:!1},{campo:"status",label:"Status do Lead",ativo:!0,obrigatorio:!0},{campo:"valorContrato",label:"Valor do Contrato",ativo:!0,obrigatorio:!1},{campo:"observacoes",label:"Observa\xE7\xF5es",ativo:!0,obrigatorio:!1},{campo:"dataCriacao",label:"Data de Cria\xE7\xE3o",ativo:!0,obrigatorio:!1},{campo:"dataAtualizacao",label:"Data de Atualiza\xE7\xE3o",ativo:!0,obrigatorio:!1},{campo:"usuarioCriacao",label:"Usu\xE1rio de Cria\xE7\xE3o",ativo:!0,obrigatorio:!1},{campo:"usuarioAtualizacao",label:"Usu\xE1rio de Atualiza\xE7\xE3o",ativo:!0,obrigatorio:!1}];ngOnInit(){this.loadWebhooks()}loadWebhooks(){this.loading=!0,this.databaseService.getWebhooks().subscribe({next:o=>{this.webhooks=o,this.filteredWebhooks=o,this.loading=!1},error:o=>{console.error("Erro ao carregar webhooks:",o),this.loading=!1}})}createWebhook(){if(!this.newWebhook.nome||!this.newWebhook.url){alert("Por favor, preencha todos os campos obrigat\xF3rios");return}let o=Object.values(S).map(n=>({evento:n,ativo:n==="LEAD_CRIADO",dadosEnviados:this.availableDataFields.map(t=>O(w({},t),{ativo:t.obrigatorio}))})),e=O(w({},this.newWebhook),{eventos:["LEAD_CRIADO"],configuracaoEventos:o});this.databaseService.createWebhook(e).subscribe({next:n=>{this.webhooks.unshift(n),this.filterWebhooks(),this.showCreateModal=!1,this.newWebhook={},alert("Webhook criado com sucesso!")},error:n=>{console.error("Erro ao criar webhook:",n),alert("Erro ao criar webhook")}})}updateWebhook(){this.editWebhook.id&&this.databaseService.updateWebhook(this.editWebhook.id,this.editWebhook).subscribe({next:o=>{let e=this.webhooks.findIndex(n=>n.id===o.id);e!==-1&&(this.webhooks[e]=o,this.filterWebhooks()),this.showEditModal=!1,this.editWebhook={},alert("Webhook atualizado com sucesso!")},error:o=>{console.error("Erro ao atualizar webhook:",o),alert("Erro ao atualizar webhook")}})}deleteWebhook(o){confirm(`Tem certeza que deseja excluir o webhook "${o.nome}"?`)&&o.id&&this.databaseService.deleteWebhook(o.id).subscribe({next:()=>{this.webhooks=this.webhooks.filter(e=>e.id!==o.id),this.filterWebhooks(),alert("Webhook exclu\xEDdo com sucesso!")},error:e=>{console.error("Erro ao excluir webhook:",e),alert("Erro ao excluir webhook")}})}filterWebhooks(){this.filteredWebhooks=this.webhooks.filter(o=>!this.searchTerm||o.nome.toLowerCase().includes(this.searchTerm.toLowerCase())||o.url.toLowerCase().includes(this.searchTerm.toLowerCase()))}clearFilters(){this.searchTerm="",this.filterWebhooks()}openCreateModal(){this.showCreateModal=!0,this.newWebhook={ativo:!0,eventos:["LEAD_CRIADO"]}}openEditModal(o){this.editWebhook=w({},o),this.showEditModal=!0}openConfigModal(o){this.configWebhook=w({},o),this.showConfigModal=!0}closeModals(){this.showCreateModal=!1,this.showEditModal=!1,this.showConfigModal=!1,this.newWebhook={},this.editWebhook={},this.configWebhook=null}toggleEvent(o,e){if(!o.id)return;let n=o.eventos.includes(e);n?o.eventos=o.eventos.filter(t=>t!==e):o.eventos.push(e),this.updateWebhookEventConfig(o,e,!n)}updateWebhookEventConfig(o,e,n){o.configuracaoEventos||(o.configuracaoEventos=[]);let t=o.configuracaoEventos.find(a=>a.evento===e);t?t.ativo=n:(t={evento:e,ativo:n,dadosEnviados:this.availableDataFields.map(a=>O(w({},a),{ativo:a.obrigatorio||n}))},o.configuracaoEventos.push(t)),this.databaseService.updateWebhook(o.id,o).subscribe({next:a=>{let _=this.webhooks.findIndex(W=>W.id===a.id);_!==-1&&(this.webhooks[_]=a,this.filterWebhooks())},error:a=>{console.error("Erro ao atualizar configura\xE7\xE3o do webhook:",a),alert("Erro ao atualizar configura\xE7\xE3o")}})}toggleDataField(o,e,n){if(!o.id)return;let t=o.configuracaoEventos?.find(a=>a.evento===e);if(t){let a=t.dadosEnviados.find(_=>_.campo===n);a&&!a.obrigatorio&&(a.ativo=!a.ativo,this.databaseService.updateWebhook(o.id,o).subscribe({next:_=>{let W=this.webhooks.findIndex(J=>J.id===_.id);W!==-1&&(this.webhooks[W]=_,this.filterWebhooks())},error:_=>{console.error("Erro ao atualizar campo do webhook:",_),alert("Erro ao atualizar campo")}}))}}getEventLabel(o){return{LEAD_CRIADO:"Lead Criado",LEAD_ATUALIZADO:"Lead Atualizado",LEAD_DELETADO:"Lead Deletado",INTERACAO_CRIADA:"Intera\xE7\xE3o Criada",STATUS_ALTERADO:"Status Alterado",VALOR_PROPOSTA_ALTERADO:"Valor da Proposta Alterado"}[o]||o}getEventColor(o){return{LEAD_CRIADO:"#10b981",LEAD_ATUALIZADO:"#3b82f6",LEAD_DELETADO:"#ef4444",INTERACAO_CRIADA:"#8b5cf6",STATUS_ALTERADO:"#f59e0b",VALOR_PROPOSTA_ALTERADO:"#06b6d4"}[o]||"#6b7280"}getEventDescription(o){return{LEAD_CRIADO:"Dispara quando um novo lead \xE9 criado no sistema",LEAD_ATUALIZADO:"Dispara quando qualquer dado do lead \xE9 alterado",LEAD_DELETADO:"Dispara quando um lead \xE9 exclu\xEDdo do sistema",INTERACAO_CRIADA:"Dispara quando uma nova intera\xE7\xE3o \xE9 registrada",STATUS_ALTERADO:"Dispara quando o status do lead \xE9 alterado",VALOR_PROPOSTA_ALTERADO:"Dispara quando o valor da proposta \xE9 alterado"}[o]||"Descri\xE7\xE3o n\xE3o dispon\xEDvel"}isDataFieldActive(o,e,n){let t=o.configuracaoEventos?.find(a=>a.evento===e);if(t){let a=t.dadosEnviados.find(_=>_.campo===n);return a?a.ativo:!1}return!1}formatDate(o){return new Date(o).toLocaleDateString("pt-BR")}canManageWebhooks(){return this.authService.isAdmin()}canDeleteWebhooks(){return this.authService.isAdmin()}testWebhook(o){if(!o.id)return;let e={evento:"TESTE",timestamp:new Date().toISOString(),webhook:{id:o.id,nome:o.nome,url:o.url},dados:{mensagem:"Este \xE9 um teste do webhook LeadPro",data:new Date().toISOString()}};fetch(o.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>{n.ok?alert("Webhook testado com sucesso! Verifique o n8n para confirmar o recebimento."):alert(`Erro ao testar webhook: ${n.status} ${n.statusText}`)}).catch(n=>{console.error("Erro ao testar webhook:",n),alert("Erro ao testar webhook. Verifique se a URL est\xE1 acess\xEDvel.")})}static \u0275fac=function(e){return new(e||l)(y(F),y(G))};static \u0275cmp=D({type:l,selectors:[["app-webhooks"]],standalone:!0,features:[T],decls:11,vars:5,consts:[[1,"webhooks-container"],[1,"webhooks-header"],["class","loading-container",4,"ngIf"],["class","webhooks-content",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"webhooks-content"],[1,"actions-bar"],[1,"search-filters"],[1,"search-box"],["type","text","placeholder","Buscar webhooks...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"filters"],[1,"btn","btn-outline",3,"click"],[1,"actions"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"results-info"],["class","webhooks-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"webhooks-grid"],["class","webhook-card",4,"ngFor","ngForOf"],[1,"webhook-card"],[1,"webhook-header"],[1,"webhook-icon"],[1,"webhook-info"],[1,"webhook-url"],[1,"webhook-status"],[1,"status-badge"],[1,"webhook-actions"],["title","Configurar Eventos",1,"btn-icon",3,"click"],["class","btn-icon","title","Editar",3,"click",4,"ngIf"],["class","btn-icon btn-danger","title","Excluir",3,"click",4,"ngIf"],[1,"webhook-events"],[1,"events-list"],["class","event-badge",3,"background-color",4,"ngFor","ngForOf"],["class","no-events",4,"ngIf"],[1,"webhook-footer"],[1,"webhook-actions-footer"],[1,"btn","btn-sm","btn-outline",3,"click"],[1,"webhook-date"],["title","Editar",1,"btn-icon",3,"click"],["title","Excluir",1,"btn-icon","btn-danger",3,"click"],[1,"event-badge"],[1,"no-events"],[1,"empty-state"],[1,"empty-icon"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","nome"],["type","text","id","nome","name","nome","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","url"],["type","url","id","url","name","url","required","","placeholder","https://seu-n8n.com/webhook/leadpro",1,"form-input",3,"ngModelChange","ngModel"],[1,"checkbox-label"],["type","checkbox","name","ativo",3,"ngModelChange","ngModel"],[1,"checkmark"],[1,"modal-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],["for","edit-nome"],["type","text","id","edit-nome","name","nome","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","edit-url"],["type","url","id","edit-url","name","url","required","",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal","modal-large",3,"click"],[1,"config-section"],[1,"config-description"],[1,"events-grid"],["class","event-item",3,"active",4,"ngFor","ngForOf"],["class","config-section",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"event-item"],[1,"event-header"],[1,"event-color"],[1,"event-name"],[1,"toggle-switch"],["type","checkbox",3,"change","checked"],[1,"slider"],[1,"event-description"],["class","events-config",4,"ngFor","ngForOf"],[1,"events-config"],[1,"event-config-header"],[1,"data-fields-grid"],["class","data-field-item",3,"obrigatorio",4,"ngFor","ngForOf"],[1,"data-field-item"],[1,"field-checkbox"],["type","checkbox",3,"change","checked","disabled"],[1,"field-label"],["class","field-required",4,"ngIf"],[1,"field-required"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),s(3,"Gest\xE3o de Webhooks"),r(),i(4,"p"),s(5,"Configure webhooks para integra\xE7\xE3o com n8n e outros sistemas"),r()(),h(6,K,4,0,"div",2)(7,ae,15,5,"div",3)(8,se,27,3,"div",4)(9,le,27,3,"div",4)(10,be,19,3,"div",4),r()),e&2&&(d(6),b("ngIf",n.loading),d(),b("ngIf",!n.loading),d(),b("ngIf",n.showCreateModal),d(),b("ngIf",n.showEditModal),d(),b("ngIf",n.showConfigModal))},dependencies:[L,V,I,Z,B,R,z,N,q,Y,U,j],styles:['.webhooks-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px}.webhooks-header[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.webhooks-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#333;margin:0 0 10px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.webhooks-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1.1rem;margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.actions-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;gap:20px;flex-wrap:wrap}.search-filters[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center;flex:1;flex-wrap:wrap}.search-box[_ngcontent-%COMP%]{flex:1;min-width:250px}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e1e5e9;border-radius:8px;font-size:1rem;transition:all .3s ease;background:#fff}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.filters[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;flex-wrap:wrap}.actions[_ngcontent-%COMP%]{display:flex;gap:10px}.results-info[_ngcontent-%COMP%]{margin-bottom:20px;color:#666;font-size:.9rem}.webhooks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:20px;margin-bottom:30px}.webhook-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;box-shadow:0 4px 6px #0000000d;border:1px solid #e1e5e9;transition:all .3s ease}.webhook-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #0000001a}.webhook-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:15px;margin-bottom:20px}.webhook-icon[_ngcontent-%COMP%]{font-size:2rem;color:#667eea}.webhook-info[_ngcontent-%COMP%]{flex:1}.webhook-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.2rem;font-weight:600;color:#333}.webhook-url[_ngcontent-%COMP%]{margin:0 0 10px;font-size:.9rem;color:#666;font-family:Courier New,monospace;word-break:break-all}.webhook-status[_ngcontent-%COMP%]{margin-bottom:10px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:.8rem;font-weight:500;color:#fff;text-transform:uppercase}.status-badge.active[_ngcontent-%COMP%]{background:#10b981}.status-badge.inactive[_ngcontent-%COMP%]{background:#6b7280}.webhook-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-direction:column}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2rem;cursor:pointer;padding:8px;border-radius:6px;transition:all .3s ease}.btn-icon[_ngcontent-%COMP%]:hover{background:#f1f3f4;transform:scale(1.1)}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:#fee;color:#ef4444}.webhook-events[_ngcontent-%COMP%]{margin-bottom:20px}.webhook-events[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:1rem;color:#333;font-weight:600}.events-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.event-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:8px;font-size:.75rem;font-weight:500;color:#fff;text-transform:uppercase}.no-events[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic;font-size:.9rem}.webhook-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.webhook-actions-footer[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center}.webhook-date[_ngcontent-%COMP%]{color:#9ca3af;font-size:.8rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:1.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;font-size:1rem}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .3s ease;border:none;display:inline-flex;align-items:center;justify-content:center;gap:8px;text-decoration:none}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 12px #667eea4d}.btn-primary[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:0 6px 20px #667eea66}.btn-secondary[_ngcontent-%COMP%]{background:#6b7280;color:#fff}.btn-secondary[_ngcontent-%COMP%]:not(:disabled):hover{background:#4b5563}.btn-outline[_ngcontent-%COMP%]{background:transparent;color:#667eea;border:2px solid #667eea}.btn-outline[_ngcontent-%COMP%]:not(:disabled):hover{background:#667eea;color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.8rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:16px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 40px #0000001a}.modal-large[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e1e5e9}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;padding:8px;border-radius:6px;transition:background-color .3s ease}.btn-close[_ngcontent-%COMP%]:hover{background:#f1f3f4}.modal-body[_ngcontent-%COMP%]{padding:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:#333;font-size:.9rem}.form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e1e5e9;border-radius:8px;font-size:1rem;transition:all .3s ease;background:#fff}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-input[_ngcontent-%COMP%]:hover:not(:focus){border-color:#cbd5e0}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-size:.9rem;color:#333}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px;width:18px;height:18px;accent-color:#667eea}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:30px;padding-top:20px;border-top:1px solid #e1e5e9}.config-section[_ngcontent-%COMP%]{margin-bottom:30px}.config-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.3rem;color:#333;font-weight:600}.config-description[_ngcontent-%COMP%]{margin:0 0 20px;color:#666;font-size:.9rem;line-height:1.5}.events-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:15px}.event-item[_ngcontent-%COMP%]{background:#f8fafc;border:2px solid #e1e5e9;border-radius:12px;padding:16px;transition:all .3s ease}.event-item.active[_ngcontent-%COMP%]{border-color:#667eea;background:#f0f4ff}.event-item[_ngcontent-%COMP%]:hover{border-color:#cbd5e0}.event-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:10px}.event-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%}.event-name[_ngcontent-%COMP%]{flex:1;font-weight:600;color:#333;font-size:.95rem}.event-description[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.85rem;line-height:1.4}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:24px}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#667eea}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.events-config[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;margin-bottom:20px}.event-config-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.event-config-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#333;font-weight:600}.data-fields-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:12px}.data-field-item.obrigatorio[_ngcontent-%COMP%]{opacity:.8}.field-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-size:.9rem;color:#333;padding:8px;border-radius:6px;transition:background-color .2s ease}.field-checkbox[_ngcontent-%COMP%]:hover{background:#f1f3f4}.field-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px;width:16px;height:16px;accent-color:#667eea}.field-label[_ngcontent-%COMP%]{flex:1}.field-required[_ngcontent-%COMP%]{color:#ef4444;font-weight:600;margin-left:4px}@media (max-width: 768px){.webhooks-container[_ngcontent-%COMP%]{padding:15px}.webhooks-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.actions-bar[_ngcontent-%COMP%], .search-filters[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filters[_ngcontent-%COMP%]{justify-content:center}.webhooks-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.webhook-card[_ngcontent-%COMP%]{padding:15px}.webhook-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.webhook-actions[_ngcontent-%COMP%]{flex-direction:row;align-self:stretch;justify-content:space-between}.modal[_ngcontent-%COMP%]{margin:10px;max-height:95vh}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}.events-grid[_ngcontent-%COMP%], .data-fields-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){.webhooks-grid[_ngcontent-%COMP%]{gap:15px}.webhook-footer[_ngcontent-%COMP%]{flex-direction:column;gap:10px;align-items:stretch}.webhook-actions-footer[_ngcontent-%COMP%]{justify-content:center}}.webhook-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.form-input[_ngcontent-%COMP%]:focus-visible, .btn[_ngcontent-%COMP%]:focus-visible, .btn-icon[_ngcontent-%COMP%]:focus-visible{outline:2px solid #667eea;outline-offset:2px}*[_ngcontent-%COMP%]{transition:color .3s ease,background-color .3s ease,border-color .3s ease,transform .3s ease}']})};export{$ as WebhooksComponent};
