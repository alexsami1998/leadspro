import{a as R,b as q,d as N,e as j,f as U,g as B,h as Y,o as Z,q as G}from"./chunk-CY3U7FEM.js";import{a as $}from"./chunk-JOMA7PJZ.js";import{$a as x,$b as _,Aa as T,Ga as V,Jb as I,Ka as f,Kb as L,Pb as z,Xa as u,Y as d,Ya as n,Z as p,Za as i,_a as O,a as E,ab as g,b as y,bb as l,bc as F,fb as S,gb as D,hb as s,ib as W,jb as k,kb as C,lb as w,mb as M,ob as A,wa as c}from"./chunk-G7TP3EBD.js";var H=()=>[];function K(a,m){a&1&&(n(0,"div",5),O(1,"div",6),n(2,"p"),s(3,"Carregando webhooks..."),i()())}function Q(a,m){if(a&1){let o=x();n(0,"button",19),g("click",function(){d(o);let t=l(2);return p(t.openCreateModal())}),s(1," \u2795 Novo Webhook "),i()}}function X(a,m){if(a&1){let o=x();n(0,"button",41),g("click",function(){d(o);let t=l().$implicit,r=l(3);return p(r.openEditModal(t))}),s(1," \u270F\uFE0F "),i()}}function ee(a,m){if(a&1){let o=x();n(0,"button",42),g("click",function(){d(o);let t=l().$implicit,r=l(3);return p(r.deleteWebhook(t))}),s(1," \u{1F5D1}\uFE0F "),i()}}function te(a,m){if(a&1&&(n(0,"span",43),s(1),i()),a&2){let o=m.$implicit,e=l(4);S("background-color",e.getEventColor(o)),c(),k(" ",e.getEventLabel(o)," ")}}function oe(a,m){a&1&&(n(0,"span",44),s(1," Nenhum evento configurado "),i())}function ne(a,m){if(a&1){let o=x();n(0,"div",22)(1,"div",23)(2,"div",24),s(3," \u{1F517} "),i(),n(4,"div",25)(5,"h3"),s(6),i(),n(7,"p",26),s(8),i(),n(9,"div",27)(10,"span",28),s(11),i()()(),n(12,"div",29)(13,"button",30),g("click",function(){let t=d(o).$implicit,r=l(3);return p(r.openConfigModal(t))}),s(14," \u2699\uFE0F "),i(),f(15,X,2,0,"button",31)(16,ee,2,0,"button",32),i()(),n(17,"div",33)(18,"h4"),s(19,"Eventos Ativos:"),i(),n(20,"div",34),f(21,te,2,3,"span",35)(22,oe,2,0,"span",36),i()(),n(23,"div",37)(24,"div",38)(25,"button",39),g("click",function(){let t=d(o).$implicit,r=l(3);return p(r.testWebhook(t))}),s(26," \u{1F9EA} Testar Webhook "),i(),n(27,"span",40),s(28),i()()()()}if(a&2){let o=m.$implicit,e=l(3);c(6),W(o.nome),c(2),W(o.url),c(2),D("active",o.ativo)("inactive",!o.ativo),c(),k(" ",o.ativo?"Ativo":"Inativo"," "),c(4),u("ngIf",e.canManageWebhooks()),c(),u("ngIf",e.canDeleteWebhooks()),c(5),u("ngForOf",o.eventos),c(),u("ngIf",o.eventos.length===0),c(6),k(" Criado em: ",e.formatDate(o.dataCriacao)," ")}}function ie(a,m){if(a&1&&(n(0,"div",20),f(1,ne,29,12,"div",21),i()),a&2){let o=l(2);c(),u("ngForOf",o.filteredWebhooks)}}function re(a,m){if(a&1){let o=x();n(0,"div",45)(1,"div",46),s(2,"\u{1F517}"),i(),n(3,"h3"),s(4,"Nenhum webhook encontrado"),i(),n(5,"p"),s(6,"N\xE3o h\xE1 webhooks que correspondam aos filtros aplicados."),i(),n(7,"button",19),g("click",function(){d(o);let t=l(2);return p(t.clearFilters())}),s(8," Limpar Filtros "),i()()}}function ae(a,m){if(a&1){let o=x();n(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"input",11),M("ngModelChange",function(t){d(o);let r=l();return w(r.searchTerm,t)||(r.searchTerm=t),p(t)}),g("input",function(){d(o);let t=l();return p(t.filterWebhooks())}),i()(),n(5,"div",12)(6,"button",13),g("click",function(){d(o);let t=l();return p(t.clearFilters())}),s(7," \u{1F504} Limpar Filtros "),i()()(),n(8,"div",14),f(9,Q,2,0,"button",15),i()(),n(10,"div",16)(11,"span"),s(12),i()(),f(13,ie,2,1,"div",17)(14,re,9,0,"div",18),i()}if(a&2){let o=l();c(4),C("ngModel",o.searchTerm),c(5),u("ngIf",o.canManageWebhooks()),c(3),k("",o.filteredWebhooks.length," webhook(s) encontrado(s)"),c(),u("ngIf",o.filteredWebhooks.length>0),c(),u("ngIf",o.filteredWebhooks.length===0&&!o.loading)}}function se(a,m){if(a&1){let o=x();n(0,"div",47),g("click",function(){d(o);let t=l();return p(t.closeModals())}),n(1,"div",48),g("click",function(t){return d(o),p(t.stopPropagation())}),n(2,"div",49)(3,"h2"),s(4,"Novo Webhook"),i(),n(5,"button",50),g("click",function(){d(o);let t=l();return p(t.closeModals())}),s(6,"\u2715"),i()(),n(7,"div",51)(8,"form",52),g("ngSubmit",function(){d(o);let t=l();return p(t.createWebhook())}),n(9,"div",53)(10,"label",54),s(11,"Nome *"),i(),n(12,"input",55),M("ngModelChange",function(t){d(o);let r=l();return w(r.newWebhook.nome,t)||(r.newWebhook.nome=t),p(t)}),i()(),n(13,"div",53)(14,"label",56),s(15,"URL *"),i(),n(16,"input",57),M("ngModelChange",function(t){d(o);let r=l();return w(r.newWebhook.url,t)||(r.newWebhook.url=t),p(t)}),i()(),n(17,"div",53)(18,"label",58)(19,"input",59),M("ngModelChange",function(t){d(o);let r=l();return w(r.newWebhook.ativo,t)||(r.newWebhook.ativo=t),p(t)}),i(),O(20,"span",60),s(21," Webhook ativo "),i()(),n(22,"div",61)(23,"button",62),g("click",function(){d(o);let t=l();return p(t.closeModals())}),s(24,"Cancelar"),i(),n(25,"button",63),s(26,"Criar Webhook"),i()()()()()()}if(a&2){let o=l();c(12),C("ngModel",o.newWebhook.nome),c(4),C("ngModel",o.newWebhook.url),c(3),C("ngModel",o.newWebhook.ativo)}}function le(a,m){if(a&1){let o=x();n(0,"div",47),g("click",function(){d(o);let t=l();return p(t.closeModals())}),n(1,"div",48),g("click",function(t){return d(o),p(t.stopPropagation())}),n(2,"div",49)(3,"h2"),s(4,"Editar Webhook"),i(),n(5,"button",50),g("click",function(){d(o);let t=l();return p(t.closeModals())}),s(6,"\u2715"),i()(),n(7,"div",51)(8,"form",52),g("ngSubmit",function(){d(o);let t=l();return p(t.updateWebhook())}),n(9,"div",53)(10,"label",64),s(11,"Nome *"),i(),n(12,"input",65),M("ngModelChange",function(t){d(o);let r=l();return w(r.editWebhook.nome,t)||(r.editWebhook.nome=t),p(t)}),i()(),n(13,"div",53)(14,"label",66),s(15,"URL *"),i(),n(16,"input",67),M("ngModelChange",function(t){d(o);let r=l();return w(r.editWebhook.url,t)||(r.editWebhook.url=t),p(t)}),i()(),n(17,"div",53)(18,"label",58)(19,"input",59),M("ngModelChange",function(t){d(o);let r=l();return w(r.editWebhook.ativo,t)||(r.editWebhook.ativo=t),p(t)}),i(),O(20,"span",60),s(21," Webhook ativo "),i()(),n(22,"div",61)(23,"button",62),g("click",function(){d(o);let t=l();return p(t.closeModals())}),s(24,"Cancelar"),i(),n(25,"button",63),s(26,"Atualizar Webhook"),i()()()()()()}if(a&2){let o=l();c(12),C("ngModel",o.editWebhook.nome),c(4),C("ngModel",o.editWebhook.url),c(3),C("ngModel",o.editWebhook.ativo)}}function ce(a,m){if(a&1){let o=x();n(0,"div",75)(1,"div",76),O(2,"span",77),n(3,"span",78),s(4),i(),n(5,"label",79)(6,"input",80),g("change",function(){let t=d(o).$implicit,r=l(2);return p(r.toggleEvent(r.configWebhook,t))}),i(),O(7,"span",81),i()(),n(8,"p",82),s(9),i()()}if(a&2){let o=m.$implicit,e=l(2);D("active",e.configWebhook==null||e.configWebhook.eventos==null?null:e.configWebhook.eventos.includes(o)),c(2),S("background-color",e.getEventColor(o)),c(2),W(e.getEventLabel(o)),c(2),u("checked",e.configWebhook==null||e.configWebhook.eventos==null?null:e.configWebhook.eventos.includes(o)),c(3),k(" ",e.getEventDescription(o)," ")}}function de(a,m){a&1&&(n(0,"span",93),s(1,"*"),i())}function pe(a,m){if(a&1){let o=x();n(0,"div",88)(1,"label",89)(2,"input",90),g("change",function(){let t=d(o).$implicit,r=l().$implicit,h=l(3);return p(h.toggleDataField(h.configWebhook,r,t.campo))}),i(),O(3,"span",60),n(4,"span",91),s(5),i(),f(6,de,2,0,"span",92),i()()}if(a&2){let o=m.$implicit,e=l().$implicit,t=l(3);D("obrigatorio",o.obrigatorio),c(2),u("checked",o.obrigatorio||t.isDataFieldActive(t.configWebhook,e,o.campo))("disabled",o.obrigatorio),c(3),W(o.label),c(),u("ngIf",o.obrigatorio)}}function me(a,m){if(a&1&&(n(0,"div",84)(1,"div",85)(2,"h4"),s(3),i(),n(4,"span",43),s(5),i()(),n(6,"div",86),f(7,pe,7,6,"div",87),i()()),a&2){let o=m.$implicit,e=l(3);c(3),W(e.getEventLabel(o)),c(),S("background-color",e.getEventColor(o)),c(),k(" ",o," "),c(2),u("ngForOf",e.availableDataFields)}}function ge(a,m){if(a&1&&(n(0,"div",69)(1,"h3"),s(2,"\u{1F4CA} Dados Enviados por Evento"),i(),n(3,"p",70),s(4," Configure quais dados ser\xE3o enviados para cada evento ativo: "),i(),f(5,me,8,5,"div",83),i()),a&2){let o=l(2);c(5),u("ngForOf",(o.configWebhook==null?null:o.configWebhook.eventos)||A(1,H))}}function _e(a,m){if(a&1){let o=x();n(0,"div",47),g("click",function(){d(o);let t=l();return p(t.closeModals())}),n(1,"div",68),g("click",function(t){return d(o),p(t.stopPropagation())}),n(2,"div",49)(3,"h2"),s(4),i(),n(5,"button",50),g("click",function(){d(o);let t=l();return p(t.closeModals())}),s(6,"\u2715"),i()(),n(7,"div",51)(8,"div",69)(9,"h3"),s(10,"\u{1F4E1} Eventos Dispon\xEDveis"),i(),n(11,"p",70),s(12," Selecione quais eventos devem disparar este webhook: "),i(),n(13,"div",71),f(14,ce,10,7,"div",72),i()(),f(15,ge,6,2,"div",73),n(16,"div",61)(17,"button",74),g("click",function(){d(o);let t=l();return p(t.closeModals())}),s(18,"Fechar"),i()()()()()}if(a&2){let o=l();c(4),k("Configurar Eventos - ",o.configWebhook==null?null:o.configWebhook.nome),c(10),u("ngForOf",o.Object.values(o.WebhookEvent)),c(),u("ngIf",o.configWebhook==null||o.configWebhook.eventos==null?null:o.configWebhook.eventos.length)}}var we=(()=>{let m=class m{constructor(e,t){this.authService=e,this.databaseService=t,this.webhooks=[],this.filteredWebhooks=[],this.selectedWebhook=null,this.showCreateModal=!1,this.showEditModal=!1,this.showConfigModal=!1,this.loading=!0,this.searchTerm="",this.newWebhook={},this.editWebhook={},this.configWebhook=null,this.WebhookEvent=_,this.Object=Object,this.availableDataFields=[{campo:"id",label:"ID do Lead",ativo:!0,obrigatorio:!0},{campo:"nome",label:"Nome do Lead",ativo:!0,obrigatorio:!0},{campo:"email",label:"Email do Lead",ativo:!0,obrigatorio:!1},{campo:"telefone",label:"Telefone do Lead",ativo:!0,obrigatorio:!1},{campo:"empresa",label:"Empresa do Lead",ativo:!0,obrigatorio:!1},{campo:"cargo",label:"Cargo do Lead",ativo:!0,obrigatorio:!1},{campo:"fonte",label:"Fonte do Lead",ativo:!0,obrigatorio:!1},{campo:"status",label:"Status do Lead",ativo:!0,obrigatorio:!0},{campo:"valorContrato",label:"Valor do Contrato",ativo:!0,obrigatorio:!1},{campo:"observacoes",label:"Observa\xE7\xF5es",ativo:!0,obrigatorio:!1},{campo:"dataCriacao",label:"Data de Cria\xE7\xE3o",ativo:!0,obrigatorio:!1},{campo:"dataAtualizacao",label:"Data de Atualiza\xE7\xE3o",ativo:!0,obrigatorio:!1},{campo:"usuarioCriacao",label:"Usu\xE1rio de Cria\xE7\xE3o",ativo:!0,obrigatorio:!1},{campo:"usuarioAtualizacao",label:"Usu\xE1rio de Atualiza\xE7\xE3o",ativo:!0,obrigatorio:!1}]}ngOnInit(){this.loadWebhooks()}loadWebhooks(){this.loading=!0,this.databaseService.getWebhooks().subscribe({next:e=>{this.webhooks=e,this.filteredWebhooks=e,this.loading=!1},error:e=>{console.error("Erro ao carregar webhooks:",e),this.loading=!1}})}createWebhook(){if(!this.newWebhook.nome||!this.newWebhook.url){alert("Por favor, preencha todos os campos obrigat\xF3rios");return}let e=Object.values(_).map(r=>({evento:r,ativo:r===_.LEAD_CRIADO,dadosEnviados:this.availableDataFields.map(h=>y(E({},h),{ativo:h.obrigatorio}))})),t=y(E({},this.newWebhook),{eventos:[_.LEAD_CRIADO],configuracaoEventos:e});this.databaseService.createWebhook(t).subscribe({next:r=>{this.webhooks.unshift(r),this.filterWebhooks(),this.showCreateModal=!1,this.newWebhook={},alert("Webhook criado com sucesso!")},error:r=>{console.error("Erro ao criar webhook:",r),alert("Erro ao criar webhook")}})}updateWebhook(){this.editWebhook.id&&this.databaseService.updateWebhook(this.editWebhook.id,this.editWebhook).subscribe({next:e=>{let t=this.webhooks.findIndex(r=>r.id===e.id);t!==-1&&(this.webhooks[t]=e,this.filterWebhooks()),this.showEditModal=!1,this.editWebhook={},alert("Webhook atualizado com sucesso!")},error:e=>{console.error("Erro ao atualizar webhook:",e),alert("Erro ao atualizar webhook")}})}deleteWebhook(e){confirm(`Tem certeza que deseja excluir o webhook "${e.nome}"?`)&&e.id&&this.databaseService.deleteWebhook(e.id).subscribe({next:()=>{this.webhooks=this.webhooks.filter(t=>t.id!==e.id),this.filterWebhooks(),alert("Webhook exclu\xEDdo com sucesso!")},error:t=>{console.error("Erro ao excluir webhook:",t),alert("Erro ao excluir webhook")}})}filterWebhooks(){this.filteredWebhooks=this.webhooks.filter(e=>!this.searchTerm||e.nome.toLowerCase().includes(this.searchTerm.toLowerCase())||e.url.toLowerCase().includes(this.searchTerm.toLowerCase()))}clearFilters(){this.searchTerm="",this.filterWebhooks()}openCreateModal(){this.showCreateModal=!0,this.newWebhook={ativo:!0,eventos:[_.LEAD_CRIADO]}}openEditModal(e){this.editWebhook=E({},e),this.showEditModal=!0}openConfigModal(e){this.configWebhook=E({},e),this.showConfigModal=!0}closeModals(){this.showCreateModal=!1,this.showEditModal=!1,this.showConfigModal=!1,this.newWebhook={},this.editWebhook={},this.configWebhook=null}toggleEvent(e,t){if(!e.id)return;let r=e.eventos.includes(t);r?e.eventos=e.eventos.filter(h=>h!==t):e.eventos.push(t),this.updateWebhookEventConfig(e,t,!r)}updateWebhookEventConfig(e,t,r){e.configuracaoEventos||(e.configuracaoEventos=[]);let h=e.configuracaoEventos.find(b=>b.evento===t);h?h.ativo=r:(h={evento:t,ativo:r,dadosEnviados:this.availableDataFields.map(b=>y(E({},b),{ativo:b.obrigatorio||r}))},e.configuracaoEventos.push(h)),this.databaseService.updateWebhook(e.id,e).subscribe({next:b=>{let v=this.webhooks.findIndex(P=>P.id===b.id);v!==-1&&(this.webhooks[v]=b,this.filterWebhooks())},error:b=>{console.error("Erro ao atualizar configura\xE7\xE3o do webhook:",b),alert("Erro ao atualizar configura\xE7\xE3o")}})}toggleDataField(e,t,r){if(!e.id)return;let h=e.configuracaoEventos?.find(b=>b.evento===t);if(h){let b=h.dadosEnviados.find(v=>v.campo===r);b&&!b.obrigatorio&&(b.ativo=!b.ativo,this.databaseService.updateWebhook(e.id,e).subscribe({next:v=>{let P=this.webhooks.findIndex(J=>J.id===v.id);P!==-1&&(this.webhooks[P]=v,this.filterWebhooks())},error:v=>{console.error("Erro ao atualizar campo do webhook:",v),alert("Erro ao atualizar campo")}}))}}getEventLabel(e){return{[_.LEAD_CRIADO]:"Lead Criado",[_.LEAD_ATUALIZADO]:"Lead Atualizado",[_.LEAD_DELETADO]:"Lead Deletado",[_.INTERACAO_CRIADA]:"Intera\xE7\xE3o Criada",[_.STATUS_ALTERADO]:"Status Alterado",[_.VALOR_PROPOSTA_ALTERADO]:"Valor da Proposta Alterado"}[e]||e}getEventColor(e){return{[_.LEAD_CRIADO]:"#10b981",[_.LEAD_ATUALIZADO]:"#3b82f6",[_.LEAD_DELETADO]:"#ef4444",[_.INTERACAO_CRIADA]:"#8b5cf6",[_.STATUS_ALTERADO]:"#f59e0b",[_.VALOR_PROPOSTA_ALTERADO]:"#06b6d4"}[e]||"#6b7280"}getEventDescription(e){return{[_.LEAD_CRIADO]:"Dispara quando um novo lead \xE9 criado no sistema",[_.LEAD_ATUALIZADO]:"Dispara quando qualquer dado do lead \xE9 alterado",[_.LEAD_DELETADO]:"Dispara quando um lead \xE9 exclu\xEDdo do sistema",[_.INTERACAO_CRIADA]:"Dispara quando uma nova intera\xE7\xE3o \xE9 registrada",[_.STATUS_ALTERADO]:"Dispara quando o status do lead \xE9 alterado",[_.VALOR_PROPOSTA_ALTERADO]:"Dispara quando o valor da proposta \xE9 alterado"}[e]||"Descri\xE7\xE3o n\xE3o dispon\xEDvel"}isDataFieldActive(e,t,r){let h=e.configuracaoEventos?.find(b=>b.evento===t);if(h){let b=h.dadosEnviados.find(v=>v.campo===r);return b?b.ativo:!1}return!1}formatDate(e){return new Date(e).toLocaleDateString("pt-BR")}canManageWebhooks(){return this.authService.isAdmin()}canDeleteWebhooks(){return this.authService.isAdmin()}testWebhook(e){if(!e.id)return;let t={evento:"TESTE",timestamp:new Date().toISOString(),webhook:{id:e.id,nome:e.nome,url:e.url},dados:{mensagem:"Este \xE9 um teste do webhook LeadPro",data:new Date().toISOString()}};fetch(e.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(r=>{r.ok?alert("Webhook testado com sucesso! Verifique o n8n para confirmar o recebimento."):alert(`Erro ao testar webhook: ${r.status} ${r.statusText}`)}).catch(r=>{console.error("Erro ao testar webhook:",r),alert("Erro ao testar webhook. Verifique se a URL est\xE1 acess\xEDvel.")})}};m.\u0275fac=function(t){return new(t||m)(T(F),T($))},m.\u0275cmp=V({type:m,selectors:[["app-webhooks"]],decls:11,vars:5,consts:[[1,"webhooks-container"],[1,"webhooks-header"],["class","loading-container",4,"ngIf"],["class","webhooks-content",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"webhooks-content"],[1,"actions-bar"],[1,"search-filters"],[1,"search-box"],["type","text","placeholder","Buscar webhooks...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"filters"],[1,"btn","btn-outline",3,"click"],[1,"actions"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"results-info"],["class","webhooks-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"webhooks-grid"],["class","webhook-card",4,"ngFor","ngForOf"],[1,"webhook-card"],[1,"webhook-header"],[1,"webhook-icon"],[1,"webhook-info"],[1,"webhook-url"],[1,"webhook-status"],[1,"status-badge"],[1,"webhook-actions"],["title","Configurar Eventos",1,"btn-icon",3,"click"],["class","btn-icon","title","Editar",3,"click",4,"ngIf"],["class","btn-icon btn-danger","title","Excluir",3,"click",4,"ngIf"],[1,"webhook-events"],[1,"events-list"],["class","event-badge",3,"background-color",4,"ngFor","ngForOf"],["class","no-events",4,"ngIf"],[1,"webhook-footer"],[1,"webhook-actions-footer"],[1,"btn","btn-sm","btn-outline",3,"click"],[1,"webhook-date"],["title","Editar",1,"btn-icon",3,"click"],["title","Excluir",1,"btn-icon","btn-danger",3,"click"],[1,"event-badge"],[1,"no-events"],[1,"empty-state"],[1,"empty-icon"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","nome"],["type","text","id","nome","name","nome","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","url"],["type","url","id","url","name","url","required","","placeholder","https://seu-n8n.com/webhook/leadpro",1,"form-input",3,"ngModelChange","ngModel"],[1,"checkbox-label"],["type","checkbox","name","ativo",3,"ngModelChange","ngModel"],[1,"checkmark"],[1,"modal-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],["for","edit-nome"],["type","text","id","edit-nome","name","nome","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","edit-url"],["type","url","id","edit-url","name","url","required","",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal","modal-large",3,"click"],[1,"config-section"],[1,"config-description"],[1,"events-grid"],["class","event-item",3,"active",4,"ngFor","ngForOf"],["class","config-section",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"event-item"],[1,"event-header"],[1,"event-color"],[1,"event-name"],[1,"toggle-switch"],["type","checkbox",3,"change","checked"],[1,"slider"],[1,"event-description"],["class","events-config",4,"ngFor","ngForOf"],[1,"events-config"],[1,"event-config-header"],[1,"data-fields-grid"],["class","data-field-item",3,"obrigatorio",4,"ngFor","ngForOf"],[1,"data-field-item"],[1,"field-checkbox"],["type","checkbox",3,"change","checked","disabled"],[1,"field-label"],["class","field-required",4,"ngIf"],[1,"field-required"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),s(3,"Gest\xE3o de Webhooks"),i(),n(4,"p"),s(5,"Configure webhooks para integra\xE7\xE3o com n8n e outros sistemas"),i()(),f(6,K,4,0,"div",2)(7,ae,15,5,"div",3)(8,se,27,3,"div",4)(9,le,27,3,"div",4)(10,_e,19,3,"div",4),i()),t&2&&(c(6),u("ngIf",r.loading),c(),u("ngIf",!r.loading),c(),u("ngIf",r.showCreateModal),c(),u("ngIf",r.showEditModal),c(),u("ngIf",r.showConfigModal))},dependencies:[z,I,L,G,Y,q,R,N,j,Z,B,U],styles:['.webhooks-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px}.webhooks-header[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.webhooks-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#333;margin:0 0 10px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.webhooks-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1.1rem;margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.actions-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;gap:20px;flex-wrap:wrap}.search-filters[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center;flex:1;flex-wrap:wrap}.search-box[_ngcontent-%COMP%]{flex:1;min-width:250px}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e1e5e9;border-radius:8px;font-size:1rem;transition:all .3s ease;background:#fff}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.filters[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;flex-wrap:wrap}.actions[_ngcontent-%COMP%]{display:flex;gap:10px}.results-info[_ngcontent-%COMP%]{margin-bottom:20px;color:#666;font-size:.9rem}.webhooks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:20px;margin-bottom:30px}.webhook-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;box-shadow:0 4px 6px #0000000d;border:1px solid #e1e5e9;transition:all .3s ease}.webhook-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #0000001a}.webhook-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:15px;margin-bottom:20px}.webhook-icon[_ngcontent-%COMP%]{font-size:2rem;color:#667eea}.webhook-info[_ngcontent-%COMP%]{flex:1}.webhook-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.2rem;font-weight:600;color:#333}.webhook-url[_ngcontent-%COMP%]{margin:0 0 10px;font-size:.9rem;color:#666;font-family:Courier New,monospace;word-break:break-all}.webhook-status[_ngcontent-%COMP%]{margin-bottom:10px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:.8rem;font-weight:500;color:#fff;text-transform:uppercase}.status-badge.active[_ngcontent-%COMP%]{background:#10b981}.status-badge.inactive[_ngcontent-%COMP%]{background:#6b7280}.webhook-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-direction:column}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2rem;cursor:pointer;padding:8px;border-radius:6px;transition:all .3s ease}.btn-icon[_ngcontent-%COMP%]:hover{background:#f1f3f4;transform:scale(1.1)}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:#fee;color:#ef4444}.webhook-events[_ngcontent-%COMP%]{margin-bottom:20px}.webhook-events[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:1rem;color:#333;font-weight:600}.events-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.event-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:8px;font-size:.75rem;font-weight:500;color:#fff;text-transform:uppercase}.no-events[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic;font-size:.9rem}.webhook-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.webhook-actions-footer[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center}.webhook-date[_ngcontent-%COMP%]{color:#9ca3af;font-size:.8rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:1.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;font-size:1rem}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .3s ease;border:none;display:inline-flex;align-items:center;justify-content:center;gap:8px;text-decoration:none}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 12px #667eea4d}.btn-primary[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:0 6px 20px #667eea66}.btn-secondary[_ngcontent-%COMP%]{background:#6b7280;color:#fff}.btn-secondary[_ngcontent-%COMP%]:not(:disabled):hover{background:#4b5563}.btn-outline[_ngcontent-%COMP%]{background:transparent;color:#667eea;border:2px solid #667eea}.btn-outline[_ngcontent-%COMP%]:not(:disabled):hover{background:#667eea;color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.8rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:16px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 40px #0000001a}.modal-large[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e1e5e9}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;padding:8px;border-radius:6px;transition:background-color .3s ease}.btn-close[_ngcontent-%COMP%]:hover{background:#f1f3f4}.modal-body[_ngcontent-%COMP%]{padding:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:#333;font-size:.9rem}.form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e1e5e9;border-radius:8px;font-size:1rem;transition:all .3s ease;background:#fff}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-input[_ngcontent-%COMP%]:hover:not(:focus){border-color:#cbd5e0}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-size:.9rem;color:#333}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px;width:18px;height:18px;accent-color:#667eea}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:30px;padding-top:20px;border-top:1px solid #e1e5e9}.config-section[_ngcontent-%COMP%]{margin-bottom:30px}.config-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.3rem;color:#333;font-weight:600}.config-description[_ngcontent-%COMP%]{margin:0 0 20px;color:#666;font-size:.9rem;line-height:1.5}.events-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:15px}.event-item[_ngcontent-%COMP%]{background:#f8fafc;border:2px solid #e1e5e9;border-radius:12px;padding:16px;transition:all .3s ease}.event-item.active[_ngcontent-%COMP%]{border-color:#667eea;background:#f0f4ff}.event-item[_ngcontent-%COMP%]:hover{border-color:#cbd5e0}.event-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:10px}.event-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%}.event-name[_ngcontent-%COMP%]{flex:1;font-weight:600;color:#333;font-size:.95rem}.event-description[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.85rem;line-height:1.4}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:24px}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#667eea}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.events-config[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;margin-bottom:20px}.event-config-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.event-config-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#333;font-weight:600}.data-fields-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:12px}.data-field-item.obrigatorio[_ngcontent-%COMP%]{opacity:.8}.field-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-size:.9rem;color:#333;padding:8px;border-radius:6px;transition:background-color .2s ease}.field-checkbox[_ngcontent-%COMP%]:hover{background:#f1f3f4}.field-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px;width:16px;height:16px;accent-color:#667eea}.field-label[_ngcontent-%COMP%]{flex:1}.field-required[_ngcontent-%COMP%]{color:#ef4444;font-weight:600;margin-left:4px}@media (max-width: 768px){.webhooks-container[_ngcontent-%COMP%]{padding:15px}.webhooks-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.actions-bar[_ngcontent-%COMP%], .search-filters[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filters[_ngcontent-%COMP%]{justify-content:center}.webhooks-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.webhook-card[_ngcontent-%COMP%]{padding:15px}.webhook-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.webhook-actions[_ngcontent-%COMP%]{flex-direction:row;align-self:stretch;justify-content:space-between}.modal[_ngcontent-%COMP%]{margin:10px;max-height:95vh}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}.events-grid[_ngcontent-%COMP%], .data-fields-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){.webhooks-grid[_ngcontent-%COMP%]{gap:15px}.webhook-footer[_ngcontent-%COMP%]{flex-direction:column;gap:10px;align-items:stretch}.webhook-actions-footer[_ngcontent-%COMP%]{justify-content:center}}.webhook-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.form-input[_ngcontent-%COMP%]:focus-visible, .btn[_ngcontent-%COMP%]:focus-visible, .btn-icon[_ngcontent-%COMP%]:focus-visible{outline:2px solid #667eea;outline-offset:2px}*[_ngcontent-%COMP%]{transition:color .3s ease,background-color .3s ease,border-color .3s ease,transform .3s ease}']});let a=m;return a})();export{we as WebhooksComponent};
